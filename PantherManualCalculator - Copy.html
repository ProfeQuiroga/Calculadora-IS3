<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <title>Panther Manual Calculator</title>
	  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="shortcut icon" href="./../img/testsheep.ico" type="image/x-icon" />
    <link rel="icon" href="./../img/testsheep.ico">
  </head>
  <body>
    <h1>Panther Manual Calculator</h1>
    <img src="./../img/panther_icon.PNG">
    <p>
    <label class="description">Details about the Panther ODM can be found in <a href="./PantherDocuments.html">this document</a></label>
    <p>There is a lot of maths involved in this exercise - this is designed to make it just a little easier by doing the actual number handling.</p>
    <p>You <b>will</b> have to look up the appropriate fuel usage from the data tables.</p>
      
    <p>
   
    <form id="errorForm" class="form-horizontal"  method="post" action="">
        <h3><font color="red"  ><i><label id="errorMsgField"></label></i></font></h3>
    </form>

    <form id="cruiseForm" class="form-horizontal"  method="post" action="">

      <h2>Cruise</h2>

        
      <div class="row">

        <div class="col-sm-2">
          <label class="description" >Fuel rate</label>
        </div>
        <div class="col-sm-2">
          <input id="fuelRateField" name="fuelRate" class="element text medium" type="text" maxlength="10"  value=""/> 
        </div>
        <div class="col-sm-1">
            <label class="description" >kg / min</label>
        </div>
      </div>

      <div class="row">

        <div class="col-sm-2">
          <label class="description" >Distance</label>
        </div>
        <div class="col-sm-2">
          <input id="distanceField" name="distance" class="element text medium" type="text" maxlength="10"  value=""/> 
        </div>
        <div class="col-sm-1">
            <label class="description" >nm</label>
        </div>
      </div>

      <div class="row">

        <div class="col-sm-2">
          <label class="description" >Speed</label>
        </div>
        <div class="col-sm-2">
          <input id="speedField" name="speed" class="element text medium" type="text" maxlength="10"  value=""/> 
        </div>
        <div class="col-sm-1">
            <label class="description" >nm</label>
        </div>
      </div>

      <div class="row">
  
          <div class="col-sm-2"></div>
          <div class="col-sm-2">
              <input type="button" class="btn btn-primary" id="calculateCruiseButton" value="Calculate" onClick="calculateCruise()"> 
          </div>
        </div>
      

      <div class="row">

        <div class="col-sm-2">
          <label class="description" >Fuel Used</label>
        </div>
        <div class="col-sm-2">
          <input id="fuelUsedField" name="fuelUsed" class="element text medium" type="text" maxlength="10"  value=""  readonly /> 
        </div>
        <div class="col-sm-1">
            <label class="description" >kg</label>
        </div>
      </div>
      <p></p>

    </form>

    <form id="climbForm" class="form-horizontal"  method="post" action="">

        <h2>Climb</h2>
  
          
        <div class="row">
  
          <div class="col-sm-2">
            <label class="description" >Start altitude</label>
          </div>
          <div class="col-sm-2">
            <input id="startAltField" name="startAlt" class="element text medium" type="text" maxlength="10"  value=""/> 
          </div>
          <div class="col-sm-1">
              <label class="description" >ft</label>
          </div>
          <p></p>
        </div>
  
        <div class="row">
  
          <div class="col-sm-2">
            <label class="description" >Final Altitude</label>
          </div>
          <div class="col-sm-2">
            <input id="finalAltField" name="finalAlt" class="element text medium" type="text" maxlength="10"  value=""/> 
          </div>
          <div class="col-sm-1">
              <label class="description" >ft</label>
          </div>
        </div> 
        <div class="row">
  
          <div class="col-sm-2"></div>
          <div class="col-sm-2">
              <input type="button" class="btn btn-primary" id="calculateClimbButton" value="Calculate" onClick="calculateClimb()"> 
          </div>
        </div>
        
  
        <div class="row">
  
          <div class="col-sm-2">
            <label class="description" >Fuel Used</label>
          </div>
          <div class="col-sm-2">
            <input id="fuelUsedClimbField" name="fuelUsedClimb" class="element text medium" type="text" maxlength="10"  value=""  readonly /> 
          </div>
          <div class="col-sm-1">
              <label class="description" >kg</label>
          </div>
          <p></p>
        </div>
  
      </form>
  
     

    <script>

      // Utility functions
      var errorMsg = "";

      function setStatusError() {
        console.log("setStatusError");
        document.getElementById('errorMsgField').innerHTML = errorMsg;
      }
      
    
  
      // Cruise
      function calculateCruise() {
        console.log("calculateCruise");
        errorMsg = "";
                
        var usage = document.getElementById('fuelRateField').value;
        var distance = document.getElementById('distanceField').value;
        var speed = document.getElementById('speedField').value;
        
        if(isNaN(usage)) {
          errorMsg = "Set fuel usage is not a number";
          setStatusError();
          return;
        }
        
        if(isNaN(distance)) {
          errorMsg = "Set distance is not a number";
          setStatusError();
          return;
        }

        if(isNaN(speed)) {
          errorMsg = "Set speed is not a number";
          setStatusError();
          return;
        }
        
        var fuelUsed = +usage * +distance * 60.0 / +speed;

        document.getElementById('fuelUsedField').value = fuelUsed;
        setStatusError();

      }

      // Climb
      function calculateClimb() {
        console.log("calculateCruise");
        errorMsg = "";
                
        var startAlt = document.getElementById('startAltField').value;
        var finalAlt = document.getElementById('finalAltField').value;
        
        if(isNaN(startAlt)) {
          errorMsg = "Set start altitude is not a number";
          setStatusError();
          return;
        }
        
        if(isNaN(finalAlt)) {
          errorMsg = "Set final altitude is not a number";
          setStatusError();
          return;
        }

        
        var fuelUsed = ( +finalAlt - +startAlt ) / 100.0;

        document.getElementById('fuelUsedClimbField').value = fuelUsed;
        setStatusError();

      }

    

    </script>

  </body>
</html>


